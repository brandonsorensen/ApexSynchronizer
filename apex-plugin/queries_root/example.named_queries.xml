<queries>
    <query name="com.apex.learning.school.students" coreTable="" flattened="false">
        <description>Gets students to update Apex Learning environment.</description>
        <args>
        </args>
        <columns>
			<column column="STUDENTS.ID">STUDENT_ID</column>
			<column column="STUDENTS.FIRST_NAME">STUDENT_FIRST_NAME</column>
			<column column="STUDENTS.MIDDLE_NAME">STUDENT_MIDDLE_NAME</column>
			<column column="STUDENTS.LAST_NAME">STUDENT_LAST_NAME</column>
			<column column="STUDENTS.WEB_ID">WEB_ID</column>
			<column column="STUDENTS.WEB_PASSWORD">WEB_PASSWORD</column>
			<column column="STUDENTS.STATE_STUDENTNUMBER">EDUID</column>
 		</columns>
        <sql>
			<![CDATA[
				SELECT  students.id,
						students.First_Name,
						students.Middle_Name,
						students.Last_Name,
						students.Web_ID,
						students.Web_Password,
						students.State_StudentNumber
				FROM    students
				WHERE   students.schoolid in (501, 601, 616)
				ORDER BY students.id
			]]>
        </sql>
    </query>
    <query name="com.apex.learning.school.classrooms" coreTable="" flattened="false">
        <description>Gets sections to update Apex Learning classrooms.</description>
        <args>
        </args>
        <columns>
			<column column="SECTIONS.ID">SECTION_ID</column>
			<column column="SECTIONS.SCHOOLID">SCHOOL_ID</column>
			<column column="COURSES.COURSE_NAME">COURSE_NAME</column>
			<column column="SECTIONS.SECTION_NUMBER">SECTION_NUMBER</column>
			<column column="TEACHERS.ID">TEACHER_ID</column>
			<column column="TEACHERS.FIRST_NAME">TEACHER_FIRST_NAME</column>
			<column column="TEACHERS.MIDDLE_NAME">TEACHER_MIDDLE_NAME</column>
			<column column="TEACHERS.LAST_NAME">TEACHER_LAST_NAME</column>
			<column column="TERMS.FIRSTDAY">FIRST_DAY</column>
 		</columns>
        <sql>
			<![CDATA[
				SELECT s.id as sec_id, 
					   s.schoolid,
					   c.course_name, 
					   s.section_number, 
					   t.id as t_id,
					   t.first_name, 
					   t.middle_name,
					   t.last_name, 
					   terms.firstday 
				FROM   sections s 
					   INNER JOIN courses c 
							   ON c.course_number = s.course_number 
					   INNER JOIN teachers t 
							   ON s.teacher = t.id 
					   LEFT JOIN terms 
							  ON terms.id = s.termid 
								 AND terms.schoolid = s.schoolid 
				WHERE  s.schoolid = 616
				ORDER BY sec_id
			]]>
        </sql>
    </query>
    <query name="com.apex.learning.school.teachers" coreTable="" flattened="false">
        <description>Gets sections to update Apex Learning classrooms.</description>
        <args>
        </args>
        <columns>
			<column column="TEACHERS.ID">TEACHER_ID</column>
			<column column="TEACHERS.FIRST_NAME">FIRST_NAME</column>
			<column column="TEACHERS.MIDDLE_NAME">MIDDLE_NAME</column>
			<column column="TEACHERS.LAST_NAME">LAST_NAME</column>
			<column column="TEACHERS.EMAIL_ADDR">EMAIL</column>
			<column column="TEACHERS.TEACHERNUMBER">TEACHER_NUMBER</column>
			<column column="TEACHERS.TEACHERLOGINPW">LOGIN_PW</column>
 		</columns>
        <sql>
			<![CDATA[
				SELECT id,
					   first_name,
					   middle_name,
					   last_name,
					   email_addr,
					   teachernumber,
					   teacherloginpw
				FROM   teachers
				WHERE  teachers.schoolid in (501, 601, 616)
				ORDER BY teachers.id
			]]>
        </sql>
    </query>
</queries>
